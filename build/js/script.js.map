{"version":3,"sources":["content/content.js","article-text/article-text.js","rating/rating.js","reviews-table/__buyer-photo/reviews-table__buyer-photo.js","reviews-table/__see-more-button/reviews-table__see-more-button.js","reviews-table/__see-more-button-arrow/reviews-table__see-more-button-arrow.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.js","sourcesContent":["","'use strict';\r\nvar size = 192,\r\n    articleContent = $('.article-text'),\r\n    fullArticles = [],\r\n    croppedArticles = [];\r\n    \r\nvar countOfCroppedArticles = 0;\r\nfor (let elem of articleContent) {\r\n    let articleText  = $(elem).text();\r\n    let croppedText;\r\n    if (articleText.length > size) {\r\n        fullArticles.push(articleText);\r\n        countOfCroppedArticles++;\r\n        croppedText = articleText.slice(0, size) + '...';\r\n        croppedArticles.push(croppedText);\r\n        $(elem).text(croppedText);\r\n\r\n        elem.classList.add('collapsed');\r\n    } else {\r\n        let siblings = elem.parentElement.children;\r\n        let siblingsArray = Array.prototype.slice.call(siblings);\r\n        siblingsArray.forEach(element => {\r\n            if ($(element).hasClass('reviews-table__see-more-button')) {\r\n                $(element).remove();\r\n            };\r\n        });\r\n    }\r\n}\r\n\r\nvar seeMoreButton = $('.reviews-table__see-more-button_expand'),\r\n    seeMoreButtonCollapse = $('.reviews-table__see-more-button_collapse');\r\n\r\nfor (let button of seeMoreButton) {\r\n    $(button).bind('click', (event) => {\r\n        let target = event.target;\r\n        if ($(target).hasClass('reviews-table__see-more-button_expand')) {\r\n            expandText(event);\r\n            target.classList.remove('reviews-table__see-more-button_expand');\r\n            target.classList.add('reviews-table__see-more-button_collapse');\r\n        } else {\r\n            collapseText(event); \r\n            target.classList.remove('reviews-table__see-more-button_collapse');\r\n            target.classList.add('reviews-table__see-more-button_expand');\r\n        }\r\n    });\r\n}\r\n\r\nfunction expandText(ev) {\r\n    let button = $('.reviews-table__see-more-button');\r\n    let textBlock = ev.target.previousElementSibling;\r\n\r\n    if ($(textBlock).hasClass('article-text collapsed')) {\r\n        let index = button.index(ev.target);\r\n        $(textBlock).text(fullArticles[index]);\r\n        textBlock.classList.remove('collapsed');\r\n        textBlock.classList.add('expanded');\r\n    };\r\n}\r\n\r\nfunction collapseText(ev) {\r\n    let button = $('.reviews-table__see-more-button');\r\n    let textBlock = ev.target.previousElementSibling;\r\n\r\n    if ($(textBlock).hasClass('article-text expanded')) {\r\n        let index = button.index(ev.target);\r\n        $(textBlock).text(croppedArticles[index]);\r\n        textBlock.classList.add('collapsed');\r\n        textBlock.classList.remove('expanded');\r\n    };\r\n}\r\n\r\nif (document.documentElement.clientWidth <= 720) {\r\n    let articleTitle = $('.article-text__addition-title');\r\n    for (let elem of articleTitle) {\r\n        let itemRow = elem.parentElement.parentElement;\r\n\r\n        let row = document.createElement('th');\r\n        row.classList = ['reviews-table__item-row__addition-title'];\r\n        row.appendChild(elem);\r\n        itemRow.append(row);\r\n    }\r\n}\r\n","\"use strict\";\r\n\r\nlet numericalRating = $('.rating__numerical-rating');\r\n\r\nfor (let elem of numericalRating) {\r\n    let rating = Number.parseFloat($(elem).text());\r\n    \r\n    let integerStars = Math.floor(rating),\r\n        roundingToBig = Math.ceil(rating),\r\n        fraction = rating - integerStars;\r\n    \r\n    let parentElement = elem.parentElement;\r\n    let starWrapper = $(parentElement).children('.rating__stars').children('.rating__star-wrapper');\r\n    \r\n    let index = 0,\r\n        width;\r\n    while (index < roundingToBig) {\r\n        if ((index >= integerStars) && (fraction != 0)) {\r\n            width = Math.asin( 2 * fraction - 1 ) / Math.PI + 0.5;\r\n            fillStar(starWrapper[index], width * 100);\r\n        } else {\r\n            width = 100;\r\n            fillStar(starWrapper[index], width);\r\n        }\r\n        index++;\r\n  }\r\n}\r\n\r\nfunction fillStar(starWrapper, width) {\r\n    let star = $(starWrapper).children('.rating__star_active');\r\n    $(star).css('width', `${width}%`);\r\n}","let miniPhoto = $('.reviews-table__buyer-photo');\r\n\r\nfor (let elem of miniPhoto) {\r\n    elem.onclick = (event) => {\r\n\r\n        let modalContainer = document.createElement('div');\r\n        modalContainer.classList.add('modal');\r\n\r\n        let modalBackdropContainer = document.createElement('div');\r\n        modalBackdropContainer.classList.add('modal');\r\n        modalBackdropContainer.classList.add('modal__backdrop');\r\n        \r\n        modalContainer.append(modalBackdropContainer);\r\n\r\n        let previewContainer = document.createElement('div');\r\n        let img = document.createElement('img');\r\n        let imgSrc = event.target.src;\r\n        img.src = imgSrc;\r\n        previewContainer.classList.add('photo-preview');\r\n        previewContainer.append(img);\r\n        modalContainer.append(previewContainer);\r\n\r\n\r\n        let content = document.getElementsByClassName('content')[0];\r\n        content.insertAdjacentHTML('beforebegin', modalContainer.outerHTML);\r\n\r\n        initModalBackdropFunc();\r\n    }\r\n}\r\n\r\nfunction initModalBackdropFunc() {\r\n    let modalBackdrop = document.getElementsByClassName('modal modal__backdrop')[0];\r\n    if (modalBackdrop) {\r\n        modalBackdrop.onclick = () => {\r\n            closeModal();\r\n        }\r\n    }\r\n}\r\n\r\nfunction closeModal() {\r\n    let modalBackdropContainer = $('.modal');\r\n    modalBackdropContainer.remove();\r\n}","","\"use strict\";\r\n\r\nlet seeMoreArrow = $('.reviews-table__see-more-button-arrow');\r\n\r\nfor (let elem of seeMoreArrow) {\r\n    $(elem).bind('click', (event) => {\r\n        event.target.parentElement.click();\r\n    });\r\n}"]}